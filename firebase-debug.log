[debug] [2018-07-16T13:28:40.369Z] ----------------------------------------------------------------------
[debug] [2018-07-16T13:28:40.377Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\bin\firebase deploy --only functions
[debug] [2018-07-16T13:28:40.377Z] CLI Version:   3.19.0
[debug] [2018-07-16T13:28:40.378Z] Platform:      win32
[debug] [2018-07-16T13:28:40.378Z] Node Version:  v9.11.1
[debug] [2018-07-16T13:28:40.380Z] Time:          Mon Jul 16 2018 15:28:40 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:28:40.381Z] ----------------------------------------------------------------------
[debug] 
[debug] [2018-07-16T13:28:40.415Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2018-07-16T13:28:40.416Z] > authorizing via signed-in user
[debug] [2018-07-16T13:28:40.421Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/projects/school-book-an  
  
 Mon Jul 16 2018 15:28:40 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:28:43.221Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:28:43.222Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/database/school-book-an/tokens  
  
 Mon Jul 16 2018 15:28:43 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:28:45.783Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'school-book-an'...
[info] 
[info] i  deploying functions
[info] Running command: npm --prefix "%RESOURCE_DIR%" run build
[info] +  functions: Finished running predeploy script.
[debug] [2018-07-16T13:31:53.178Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "serve": "npm run build && firebase serve --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "~5.12.1",
    "firebase-functions": "^1.1.0",
    "nodemailer": "^4.6.7"
  },
  "devDependencies": {
    "typescript": "^2.5.3"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2018-07-16T13:31:53.185Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/cloudfunctions.googleapis.com/projectSettings/school-book-an?view=CONSUMER_VIEW  
  
 Mon Jul 16 2018 15:31:53 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:31:53.186Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/runtimeconfig.googleapis.com/projectSettings/school-book-an?view=CONSUMER_VIEW  
  
 Mon Jul 16 2018 15:31:53 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:31:56.716Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:31:57.254Z] <<< HTTP RESPONSE 200
[info] +  functions: all necessary APIs are enabled
[debug] [2018-07-16T13:31:57.255Z] >>> HTTP REQUEST GET https://cloudresourcemanager.googleapis.com/v1/projects/school-book-an  
  
 Mon Jul 16 2018 15:31:57 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:32:03.477Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:32:03.478Z] >>> HTTP REQUEST GET https://mobilesdk-pa.googleapis.com/v1/projects/951496831430:getServerAppConfig  
  
 Mon Jul 16 2018 15:32:03 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:32:09.484Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2018-07-16T13:32:09.487Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs  
  
 Mon Jul 16 2018 15:32:09 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:32:14.724Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:32:14.725Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs/gmail/variables  
  
 Mon Jul 16 2018 15:32:14 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:32:16.372Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:32:16.374Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs/gmail/variables/password  
  
 Mon Jul 16 2018 15:32:16 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:32:16.374Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs/gmail/variables/email  
  
 Mon Jul 16 2018 15:32:16 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:32:18.391Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:32:18.392Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (41.72 KB) for uploading
[debug] [2018-07-16T13:32:19.484Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/school-book-an/locations/us-central1/functions:generateUploadUrl  
  
 Mon Jul 16 2018 15:32:19 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:32:25.149Z] <<< HTTP RESPONSE 500
[debug] [2018-07-16T13:32:25.150Z] <<< HTTP RESPONSE BODY {
  "error": {
    "code": 500,
    "message": "Internal error encountered.",
    "status": "INTERNAL"
  }
}

[debug] [2018-07-16T13:32:25.153Z] TypeError: Cannot create property 'error' on string '{
  "error": {
    "code": 500,
    "message": "Internal error encountered.",
    "status": "INTERNAL"
  }
}
'
    at module.exports (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\lib\responseToError.js:11:16)
    at Request._callback (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\lib\api.js:47:25)
    at Request.self.callback (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\request\request.js:185:22)
    at Request.emit (events.js:180:13)
    at Request.emit (domain.js:422:20)
    at Request.<anonymous> (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\request\request.js:1157:10)
    at Request.emit (events.js:180:13)
    at Request.emit (domain.js:422:20)
    at IncomingMessage.<anonymous> (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\request\request.js:1079:12)
    at Object.onceWrapper (events.js:272:13)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2018-07-16T13:37:20.778Z] ----------------------------------------------------------------------
[debug] [2018-07-16T13:37:20.786Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\bin\firebase deploy --only functions
[debug] [2018-07-16T13:37:20.787Z] CLI Version:   3.19.0
[debug] [2018-07-16T13:37:20.788Z] Platform:      win32
[debug] [2018-07-16T13:37:20.788Z] Node Version:  v9.11.1
[debug] [2018-07-16T13:37:20.792Z] Time:          Mon Jul 16 2018 15:37:20 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:37:20.792Z] ----------------------------------------------------------------------
[debug] 
[debug] [2018-07-16T13:37:20.824Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2018-07-16T13:37:20.827Z] > authorizing via signed-in user
[debug] [2018-07-16T13:37:20.833Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/projects/school-book-an  
  
 Mon Jul 16 2018 15:37:20 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:37:24.837Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:37:24.839Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/database/school-book-an/tokens  
  
 Mon Jul 16 2018 15:37:24 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:37:27.529Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'school-book-an'...
[info] 
[info] i  deploying functions
[info] Running command: npm --prefix "%RESOURCE_DIR%" run build
[info] +  functions: Finished running predeploy script.
[debug] [2018-07-16T13:37:59.249Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "serve": "npm run build && firebase serve --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "~5.12.1",
    "firebase-functions": "^1.1.0",
    "nodemailer": "^4.6.7"
  },
  "devDependencies": {
    "typescript": "^2.5.3"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2018-07-16T13:37:59.253Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/cloudfunctions.googleapis.com/projectSettings/school-book-an?view=CONSUMER_VIEW  
  
 Mon Jul 16 2018 15:37:59 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:37:59.256Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/runtimeconfig.googleapis.com/projectSettings/school-book-an?view=CONSUMER_VIEW  
  
 Mon Jul 16 2018 15:37:59 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:38:02.670Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:38:03.121Z] <<< HTTP RESPONSE 200
[info] +  functions: all necessary APIs are enabled
[debug] [2018-07-16T13:38:03.124Z] >>> HTTP REQUEST GET https://cloudresourcemanager.googleapis.com/v1/projects/school-book-an  
  
 Mon Jul 16 2018 15:38:03 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:38:08.682Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:38:08.683Z] >>> HTTP REQUEST GET https://mobilesdk-pa.googleapis.com/v1/projects/951496831430:getServerAppConfig  
  
 Mon Jul 16 2018 15:38:08 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:38:11.768Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2018-07-16T13:38:11.771Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs  
  
 Mon Jul 16 2018 15:38:11 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:38:18.153Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:38:18.154Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs/gmail/variables  
  
 Mon Jul 16 2018 15:38:18 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:38:20.509Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:38:20.510Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs/gmail/variables/email  
  
 Mon Jul 16 2018 15:38:20 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:38:20.510Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs/gmail/variables/password  
  
 Mon Jul 16 2018 15:38:20 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:38:22.882Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:38:23.481Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (41.72 KB) for uploading
[debug] [2018-07-16T13:38:24.455Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/school-book-an/locations/us-central1/functions:generateUploadUrl  
  
 Mon Jul 16 2018 15:38:24 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:38:26.529Z] <<< HTTP RESPONSE 500
[debug] [2018-07-16T13:38:26.529Z] <<< HTTP RESPONSE BODY {
  "error": {
    "code": 500,
    "message": "Internal error encountered.",
    "status": "INTERNAL"
  }
}

[debug] [2018-07-16T13:38:26.534Z] TypeError: Cannot create property 'error' on string '{
  "error": {
    "code": 500,
    "message": "Internal error encountered.",
    "status": "INTERNAL"
  }
}
'
    at module.exports (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\lib\responseToError.js:11:16)
    at Request._callback (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\lib\api.js:47:25)
    at Request.self.callback (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\request\request.js:185:22)
    at Request.emit (events.js:180:13)
    at Request.emit (domain.js:422:20)
    at Request.<anonymous> (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\request\request.js:1157:10)
    at Request.emit (events.js:180:13)
    at Request.emit (domain.js:422:20)
    at IncomingMessage.<anonymous> (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\request\request.js:1079:12)
    at Object.onceWrapper (events.js:272:13)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2018-07-16T13:38:55.711Z] ----------------------------------------------------------------------
[debug] [2018-07-16T13:38:55.718Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\bin\firebase deploy --only functions
[debug] [2018-07-16T13:38:55.718Z] CLI Version:   3.19.0
[debug] [2018-07-16T13:38:55.718Z] Platform:      win32
[debug] [2018-07-16T13:38:55.718Z] Node Version:  v9.11.1
[debug] [2018-07-16T13:38:55.721Z] Time:          Mon Jul 16 2018 15:38:55 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:38:55.721Z] ----------------------------------------------------------------------
[debug] 
[debug] [2018-07-16T13:38:55.758Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2018-07-16T13:38:55.761Z] > authorizing via signed-in user
[debug] [2018-07-16T13:38:55.768Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/projects/school-book-an  
  
 Mon Jul 16 2018 15:38:55 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:38:57.547Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:38:57.548Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/database/school-book-an/tokens  
  
 Mon Jul 16 2018 15:38:57 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:38:59.092Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'school-book-an'...
[info] 
[info] i  deploying functions
[info] Running command: npm --prefix "%RESOURCE_DIR%" run build
[info] +  functions: Finished running predeploy script.
[debug] [2018-07-16T13:40:02.514Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "serve": "npm run build && firebase serve --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "~5.12.1",
    "firebase-functions": "^1.1.0",
    "nodemailer": "^4.6.7"
  },
  "devDependencies": {
    "typescript": "^2.5.3"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2018-07-16T13:40:02.575Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/cloudfunctions.googleapis.com/projectSettings/school-book-an?view=CONSUMER_VIEW  
  
 Mon Jul 16 2018 15:40:02 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:40:02.577Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/runtimeconfig.googleapis.com/projectSettings/school-book-an?view=CONSUMER_VIEW  
  
 Mon Jul 16 2018 15:40:02 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:40:04.192Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:40:04.235Z] <<< HTTP RESPONSE 200
[info] +  functions: all necessary APIs are enabled
[debug] [2018-07-16T13:40:04.267Z] >>> HTTP REQUEST GET https://cloudresourcemanager.googleapis.com/v1/projects/school-book-an  
  
 Mon Jul 16 2018 15:40:04 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:40:05.472Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:40:05.473Z] >>> HTTP REQUEST GET https://mobilesdk-pa.googleapis.com/v1/projects/951496831430:getServerAppConfig  
  
 Mon Jul 16 2018 15:40:05 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:40:06.250Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2018-07-16T13:40:06.255Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs  
  
 Mon Jul 16 2018 15:40:06 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:40:07.908Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:40:07.910Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs/gmail/variables  
  
 Mon Jul 16 2018 15:40:07 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:40:08.558Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:40:08.560Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs/gmail/variables/email  
  
 Mon Jul 16 2018 15:40:08 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:40:08.561Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs/gmail/variables/password  
  
 Mon Jul 16 2018 15:40:08 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:40:09.215Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:40:10.173Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (41.72 KB) for uploading
[debug] [2018-07-16T13:40:12.123Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/school-book-an/locations/us-central1/functions:generateUploadUrl  
  
 Mon Jul 16 2018 15:40:12 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:40:12.700Z] <<< HTTP RESPONSE 500
[debug] [2018-07-16T13:40:12.700Z] <<< HTTP RESPONSE BODY {
  "error": {
    "code": 500,
    "message": "Internal error encountered.",
    "status": "INTERNAL"
  }
}

[debug] [2018-07-16T13:40:12.702Z] TypeError: Cannot create property 'error' on string '{
  "error": {
    "code": 500,
    "message": "Internal error encountered.",
    "status": "INTERNAL"
  }
}
'
    at module.exports (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\lib\responseToError.js:11:16)
    at Request._callback (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\lib\api.js:47:25)
    at Request.self.callback (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\request\request.js:185:22)
    at Request.emit (events.js:180:13)
    at Request.emit (domain.js:422:20)
    at Request.<anonymous> (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\request\request.js:1157:10)
    at Request.emit (events.js:180:13)
    at Request.emit (domain.js:422:20)
    at IncomingMessage.<anonymous> (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\request\request.js:1079:12)
    at Object.onceWrapper (events.js:272:13)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2018-07-16T13:45:12.088Z] ----------------------------------------------------------------------
[debug] [2018-07-16T13:45:12.093Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\bin\firebase deploy --only functions
[debug] [2018-07-16T13:45:12.093Z] CLI Version:   3.19.0
[debug] [2018-07-16T13:45:12.094Z] Platform:      win32
[debug] [2018-07-16T13:45:12.094Z] Node Version:  v9.11.1
[debug] [2018-07-16T13:45:12.096Z] Time:          Mon Jul 16 2018 15:45:12 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:45:12.096Z] ----------------------------------------------------------------------
[debug] 
[debug] [2018-07-16T13:45:12.126Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2018-07-16T13:45:12.128Z] > authorizing via signed-in user
[debug] [2018-07-16T13:45:12.132Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/projects/school-book-an  
  
 Mon Jul 16 2018 15:45:12 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:45:13.293Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:45:13.294Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/database/school-book-an/tokens  
  
 Mon Jul 16 2018 15:45:13 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:45:14.287Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'school-book-an'...
[info] 
[info] i  deploying functions
[info] Running command: npm --prefix "%RESOURCE_DIR%" run build
[info] +  functions: Finished running predeploy script.
[debug] [2018-07-16T13:46:09.263Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "serve": "npm run build && firebase serve --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "~5.12.1",
    "firebase-functions": "^1.1.0",
    "nodemailer": "^4.6.7"
  },
  "devDependencies": {
    "typescript": "^2.5.3"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2018-07-16T13:46:09.271Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/cloudfunctions.googleapis.com/projectSettings/school-book-an?view=CONSUMER_VIEW  
  
 Mon Jul 16 2018 15:46:09 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:46:09.273Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/runtimeconfig.googleapis.com/projectSettings/school-book-an?view=CONSUMER_VIEW  
  
 Mon Jul 16 2018 15:46:09 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:46:10.868Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:46:10.946Z] <<< HTTP RESPONSE 200
[info] +  functions: all necessary APIs are enabled
[debug] [2018-07-16T13:46:10.950Z] >>> HTTP REQUEST GET https://cloudresourcemanager.googleapis.com/v1/projects/school-book-an  
  
 Mon Jul 16 2018 15:46:10 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:46:12.142Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:46:12.143Z] >>> HTTP REQUEST GET https://mobilesdk-pa.googleapis.com/v1/projects/951496831430:getServerAppConfig  
  
 Mon Jul 16 2018 15:46:12 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:46:12.856Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2018-07-16T13:46:12.862Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs  
  
 Mon Jul 16 2018 15:46:12 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:46:13.413Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:46:13.414Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs/gmail/variables  
  
 Mon Jul 16 2018 15:46:13 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:46:14.470Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:46:14.471Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs/gmail/variables/email  
  
 Mon Jul 16 2018 15:46:14 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:46:14.471Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs/gmail/variables/password  
  
 Mon Jul 16 2018 15:46:14 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:46:15.520Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T13:46:15.553Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (41.72 KB) for uploading
[debug] [2018-07-16T13:46:16.491Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/school-book-an/locations/us-central1/functions:generateUploadUrl  
  
 Mon Jul 16 2018 15:46:16 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T13:46:17.082Z] <<< HTTP RESPONSE 500
[debug] [2018-07-16T13:46:17.083Z] <<< HTTP RESPONSE BODY {
  "error": {
    "code": 500,
    "message": "Internal error encountered.",
    "status": "INTERNAL"
  }
}

[debug] [2018-07-16T13:46:17.085Z] TypeError: Cannot create property 'error' on string '{
  "error": {
    "code": 500,
    "message": "Internal error encountered.",
    "status": "INTERNAL"
  }
}
'
    at module.exports (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\lib\responseToError.js:11:16)
    at Request._callback (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\lib\api.js:47:25)
    at Request.self.callback (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\request\request.js:185:22)
    at Request.emit (events.js:180:13)
    at Request.emit (domain.js:422:20)
    at Request.<anonymous> (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\request\request.js:1157:10)
    at Request.emit (events.js:180:13)
    at Request.emit (domain.js:422:20)
    at IncomingMessage.<anonymous> (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\request\request.js:1079:12)
    at Object.onceWrapper (events.js:272:13)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2018-07-16T14:10:11.809Z] ----------------------------------------------------------------------
[debug] [2018-07-16T14:10:11.813Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\bin\firebase deploy --only functions
[debug] [2018-07-16T14:10:11.814Z] CLI Version:   3.19.0
[debug] [2018-07-16T14:10:11.815Z] Platform:      win32
[debug] [2018-07-16T14:10:11.815Z] Node Version:  v9.11.1
[debug] [2018-07-16T14:10:11.820Z] Time:          Mon Jul 16 2018 16:10:11 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T14:10:11.820Z] ----------------------------------------------------------------------
[debug] 
[debug] [2018-07-16T14:10:11.851Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2018-07-16T14:10:11.853Z] > authorizing via signed-in user
[debug] [2018-07-16T14:10:11.858Z] > refreshing access token with scopes: ["email","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","openid"]
[debug] [2018-07-16T14:10:11.859Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 { refresh_token: '1/_d_saBhjsqYFkgnurKEnzpaKuLWOLiebP4lukG8Q2O0',
  client_id: '563584335869-fgrhgmd47bqnekij5i8b5pr03ho849e6.apps.googleusercontent.com',
  client_secret: 'j9iVZfS8kkCEFUPaAeJV0sAi',
  grant_type: 'refresh_token',
  scope: 'email https://www.googleapis.com/auth/cloud-platform https://www.googleapis.com/auth/cloudplatformprojects.readonly https://www.googleapis.com/auth/firebase openid' } 
 Mon Jul 16 2018 16:10:11 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T14:10:12.413Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T14:10:12.428Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/projects/school-book-an  
  
 Mon Jul 16 2018 16:10:12 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T14:10:13.501Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T14:10:13.503Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/database/school-book-an/tokens  
  
 Mon Jul 16 2018 16:10:13 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T14:10:14.496Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'school-book-an'...
[info] 
[info] i  deploying functions
[info] Running command: npm --prefix "%RESOURCE_DIR%" run build
[info] +  functions: Finished running predeploy script.
[debug] [2018-07-16T14:11:06.842Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "serve": "npm run build && firebase serve --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "~5.12.1",
    "firebase-functions": "^1.1.0",
    "nodemailer": "^4.6.7"
  },
  "devDependencies": {
    "typescript": "^2.5.3"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2018-07-16T14:11:06.847Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/cloudfunctions.googleapis.com/projectSettings/school-book-an?view=CONSUMER_VIEW  
  
 Mon Jul 16 2018 16:11:06 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T14:11:06.848Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/runtimeconfig.googleapis.com/projectSettings/school-book-an?view=CONSUMER_VIEW  
  
 Mon Jul 16 2018 16:11:06 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T14:11:08.406Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T14:11:08.442Z] <<< HTTP RESPONSE 200
[info] +  functions: all necessary APIs are enabled
[debug] [2018-07-16T14:11:08.448Z] >>> HTTP REQUEST GET https://cloudresourcemanager.googleapis.com/v1/projects/school-book-an  
  
 Mon Jul 16 2018 16:11:08 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T14:11:09.630Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T14:11:09.631Z] >>> HTTP REQUEST GET https://mobilesdk-pa.googleapis.com/v1/projects/951496831430:getServerAppConfig  
  
 Mon Jul 16 2018 16:11:09 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T14:11:10.372Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2018-07-16T14:11:10.377Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs  
  
 Mon Jul 16 2018 16:11:10 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T14:11:10.946Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T14:11:10.947Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs/gmail/variables  
  
 Mon Jul 16 2018 16:11:10 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T14:11:11.564Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T14:11:11.565Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs/gmail/variables/password  
  
 Mon Jul 16 2018 16:11:11 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T14:11:11.565Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/school-book-an/configs/gmail/variables/email  
  
 Mon Jul 16 2018 16:11:11 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T14:11:12.640Z] <<< HTTP RESPONSE 200
[debug] [2018-07-16T14:11:12.642Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (41.72 KB) for uploading
[debug] [2018-07-16T14:11:13.624Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/school-book-an/locations/us-central1/functions:generateUploadUrl  
  
 Mon Jul 16 2018 16:11:13 GMT+0200 (ora legale Europa occidentale)
[debug] [2018-07-16T14:11:14.217Z] <<< HTTP RESPONSE 500
[debug] [2018-07-16T14:11:14.217Z] <<< HTTP RESPONSE BODY {
  "error": {
    "code": 500,
    "message": "Internal error encountered.",
    "status": "INTERNAL"
  }
}

[debug] [2018-07-16T14:11:14.219Z] TypeError: Cannot create property 'error' on string '{
  "error": {
    "code": 500,
    "message": "Internal error encountered.",
    "status": "INTERNAL"
  }
}
'
    at module.exports (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\lib\responseToError.js:11:16)
    at Request._callback (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\lib\api.js:47:25)
    at Request.self.callback (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\request\request.js:185:22)
    at Request.emit (events.js:180:13)
    at Request.emit (domain.js:422:20)
    at Request.<anonymous> (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\request\request.js:1157:10)
    at Request.emit (events.js:180:13)
    at Request.emit (domain.js:422:20)
    at IncomingMessage.<anonymous> (C:\Users\rover\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\request\request.js:1079:12)
    at Object.onceWrapper (events.js:272:13)
[error] 
[error] Error: An unexpected error has occurred.
